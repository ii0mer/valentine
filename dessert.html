<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dessert ğŸ°</title>
    <link rel="stylesheet" href="css/theme.css" />
  </head>

  <body>
    <main class="wrap">
      <section class="card" style="padding:18px 16px 18px;">
        <div class="title">Now dessert ğŸ°</div>
        <p class="subtitle">Pick the sweet ending.</p>

        <div class="grid" id="dessertGrid">
          <div class="option" data-dessert="Ice Cream ğŸ¦">
            <div class="optionTitle">Ice Cream ğŸ¦</div>
            <p class="optionText">Always works</p>
          </div>

          <div class="option" data-dessert="Hot Chocolate â˜•ï¸">
            <div class="optionTitle">Hot Chocolate â˜•ï¸</div>
            <p class="optionText">Warm + cozy</p>
          </div>

          <div class="option" data-dessert="You uwu ğŸ¥º">
            <div class="optionTitle">You uwu ğŸ¥º</div>
            <p class="optionText">Best dessert (obviously)</p>
          </div>

          <div class="option" data-dessert="Waffles ğŸ§‡">
            <div class="optionTitle">Waffles ğŸ§‡</div>
            <p class="optionText">Crispy + sweet</p>
          </div>
        </div>

        <div style="margin-top:14px;">
          <span class="pill" id="dessertPicked">Chosen: tap an option âœ¨</span>
        </div>

        <div style="margin-top:14px;">
          <button class="btn btnPrimary btnFull" id="dessertNext" disabled>
            Finish ğŸ’–
          </button>
        </div>
      </section>
    </main>

    <script>
      const items = document.querySelectorAll(".option");
      const picked = document.getElementById("dessertPicked");
      const next = document.getElementById("dessertNext");
      let choice = "";

      items.forEach(i => {
        i.addEventListener("click", () => {
          items.forEach(x => x.classList.remove("active"));
          i.classList.add("active");
          choice = i.dataset.dessert;
          picked.textContent = "Chosen: " + choice;
          next.disabled = false;
        });
      });

      next.addEventListener("click", () => {
        // Save EXACTLY here, consistently:
        localStorage.setItem("dessert_choice", choice);
        location.href = "lastpage.html";
      });
    </script>
  </body>
</html>
