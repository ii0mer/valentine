<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Online Date ğŸ’Œ</title>
    <link rel="stylesheet" href="css/theme.css" />
  </head>

  <body>
    <main class="wrap">
      <section class="card" style="padding:18px 16px 18px;">
        <div class="title">Okay <span class="pink">Ù†ÙˆÙ†Ùˆ</span>â€¦ pick our online date ğŸ’˜</div>
        <p class="subtitle">Pick one vibe. Then (optional) choose the day.</p>

        <div class="grid" id="choices">
          <div class="option" data-choice="Movie Night ğŸ¬" data-note="We pick a movie + call + live reactions ğŸ˜„">
            <div class="optionTitle">Movie Night ğŸ¬</div>
            <p class="optionText">Same movie â€¢ same time â€¢ video call</p>
          </div>

          <div class="option" data-choice="Roblox ğŸ®" data-note="You carry, I follow ğŸ˜­">
            <div class="optionTitle">Roblox ğŸ®</div>
            <p class="optionText">We play together â€¢ you bully me if Iâ€™m bad</p>
          </div>

          <div class="option" data-choice="Late Night Convos â˜ï¸" data-note="You can bully me all you want ğŸ˜Œ">
            <div class="optionTitle">Late Night Convos â˜ï¸</div>
            <p class="optionText">Soft vibes â€¢ real talk â€¢ no distractions</p>
          </div>

          <div class="option" data-choice="Video Call + Food ğŸ±" data-note="We eat together on call like weâ€™re in the same place ğŸ¤">
            <div class="optionTitle">Video Call + Food ğŸ±</div>
            <p class="optionText">Same time â€¢ same vibe â€¢ you choose the food</p>
          </div>
        </div>

        <div style="margin-top:14px;">
          <span class="pill" id="pickedPill" style="font-size:15px;">Chosen: tap an option âœ¨</span>
        </div>

        <div style="margin-top:14px; text-align:left;">
          <div style="font-size:12px; color:rgba(47,34,34,.62); margin:0 0 6px 6px;">Day (optional)</div>
          <input id="day" type="date"
            style="width:100%; padding:14px 12px; border-radius:18px; border:1px solid rgba(255,95,158,.22); background:rgba(255,255,255,.78); font-size:16px;" />
        </div>

        <div style="margin-top:14px;">
          <button class="btn btnPrimary btnFull" id="continueBtn" disabled>
            Continue ğŸ’Œ
          </button>
          <div class="tip" style="margin-top:10px;">No day chosen = â€œwhenever youâ€™re freeâ€ ğŸ˜„</div>
        </div>
      </section>
    </main>

    <script>
      const cards = document.querySelectorAll(".option");
      const pickedPill = document.getElementById("pickedPill");
      const continueBtn = document.getElementById("continueBtn");
      const day = document.getElementById("day");

      let choice = "";
      let note = "";

      const t = new Date();
      const yyyy = t.getFullYear();
      const mm = String(t.getMonth()+1).padStart(2,"0");
      const dd = String(t.getDate()).padStart(2,"0");
      day.min = `${yyyy}-${mm}-${dd}`;

      cards.forEach(c => {
        c.addEventListener("click", () => {
          cards.forEach(x => x.classList.remove("active"));
          c.classList.add("active");
          choice = c.dataset.choice;
          note = c.dataset.note;
          pickedPill.textContent = "Chosen: " + choice;
          continueBtn.disabled = false;
        });
      });

      continueBtn.addEventListener("click", () => {
        const whenDay = day.value ? day.value : "Any day";
        localStorage.setItem("online_choice", choice);
        localStorage.setItem("online_note", note);
        localStorage.setItem("online_when", whenDay);
        location.href = "food.html";
      });
    </script>
  </body>
</html>
