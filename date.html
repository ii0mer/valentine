<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pick Our Online Date</title>
    <link rel="stylesheet" href="css/date.css" />
  </head>

  <body>
    <main class="wrap">
      <header class="top">
        <div class="badge">LONG DISTANCE â€¢ SAME HEART</div>
        <h1 class="title">Okay Noorain, pick our online date ğŸ’˜</h1>
        <p class="subtitle">We will make it feel like we are in the same room ğŸ¤</p>
      </header>

      <section class="grid" aria-label="Online date options">
        <button
          class="card"
          type="button"
          data-choice="Movie Night ğŸ¬"
          data-note="We choose a movie + call + live reactions ğŸ¿"
        >
          <div class="emoji">ğŸ¬</div>
          <div class="cardTitle">Movie Night</div>
          <div class="cardText">Same movie â€¢ same time â€¢ video call</div>
          <div class="cardFoot">I will bring the snacks (virtually) ğŸ¿</div>
        </button>

        <button
          class="card"
          type="button"
          data-choice="Game Night ğŸ®"
          data-note="You choose the game... I will try not to lose ğŸ˜…"
        >
          <div class="emoji">ğŸ®</div>
          <div class="cardTitle">Game Night</div>
          <div class="cardText">Fun â€¢ chaos â€¢ laughs</div>
          <div class="cardFoot">Loser says something sweet ğŸ’–</div>
        </button>

        <button
          class="card"
          type="button"
          data-choice="Late Night Talk â˜ï¸"
          data-note="No distractions. Just you and me."
        >
          <div class="emoji">â˜ï¸</div>
          <div class="cardTitle">Late Night Talk</div>
          <div class="cardText">Soft vibes â€¢ real talk</div>
          <div class="cardFoot">We catch up properly ğŸ¤</div>
        </button>

        <button
          class="card"
          type="button"
          data-choice="Food Date ğŸ”"
          data-note="We order food at the same time and eat together on call ğŸ˜‹"
        >
          <div class="emoji">ğŸ”</div>
          <div class="cardTitle">Food Date</div>
          <div class="cardText">Same time â€¢ same vibe</div>
          <div class="cardFoot">You pick the place ğŸ˜Œ</div>
        </button>
      </section>

      <section class="panel" aria-label="Schedule">
        <h2 class="panelTitle">When should we do it?</h2>
        <p class="panelText">Pick a day/time that suits you - I will make it work.</p>

        <div class="row">
          <div class="field">
            <label for="day">Day</label>
            <input id="day" type="date" />
          </div>
          <div class="field">
            <label for="time">Time</label>
            <input id="time" type="time" />
          </div>
        </div>

        <div class="picked">
          <span class="pickedLabel">Chosen:</span>
          <span id="pickedChoice" class="pickedValue">Tap an option above âœ¨</span>
        </div>

        <button id="continueBtn" class="confirm" type="button" disabled>
          Continue ğŸ’Œ
        </button>

        <p class="tiny">(If you do not pick a time, we will decide on call ğŸ˜„)</p>
      </section>

      <footer class="bottom">
        <img class="cat" src="cat.gif" alt="cute cat" />
      </footer>
    </main>

    <script>
      const cards = document.querySelectorAll(".card");
      const pickedChoice = document.getElementById("pickedChoice");
      const continueBtn = document.getElementById("continueBtn");
      const dayInput = document.getElementById("day");
      const timeInput = document.getElementById("time");

      let choice = "";
      let note = "";

      // Min date = today
      const today = new Date();
      const yyyy = today.getFullYear();
      const mm = String(today.getMonth() + 1).padStart(2, "0");
      const dd = String(today.getDate()).padStart(2, "0");
      dayInput.min = `${yyyy}-${mm}-${dd}`;

      cards.forEach((btn) => {
        btn.addEventListener("click", () => {
          cards.forEach((b) => b.classList.remove("active"));
          btn.classList.add("active");

          choice = btn.getAttribute("data-choice") || "";
          note = btn.getAttribute("data-note") || "";

          pickedChoice.textContent = choice + " âœ¨";
          continueBtn.disabled = false;
        });
      });

      continueBtn.addEventListener("click", () => {
        const day = dayInput.value || "Any day";
        const time = timeInput.value || "Any time";
        const when = `${day} â€¢ ${time}`;

        // Store for recap later pages
        localStorage.setItem(
          "valentine_plan",
          JSON.stringify({ choice, note, when })
        );

        location.href = "food.html";
      });
    </script>
  </body>
</html>
