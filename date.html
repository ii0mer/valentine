<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Online Date ğŸ’Œ</title>
    <link rel="stylesheet" href="css/theme.css" />
  </head>

  <body>
    <main class="wrap">
      <section class="card" style="padding:18px 16px 18px;">
        <div class="title">Okay <span class="pink">Ù†ÙˆÙ†Ùˆ</span>â€¦ pick our online date ğŸ’˜</div>
        <p class="subtitle">Pick the vibe, then (optional) choose a day/time.</p>

        <div class="grid" id="choices">
          <div class="option" data-choice="Movie Night ğŸ¬" data-note="We pick a movie + call + live reactions ğŸ˜„">
            <div class="optionTitle">Movie Night ğŸ¬</div>
            <p class="optionText">Same movie â€¢ same time â€¢ video call</p>
          </div>

          <div class="option" data-choice="Game Night ğŸ®" data-note="You choose the gameâ€¦ Iâ€™ll try not to lose ğŸ˜…">
            <div class="optionTitle">Game Night ğŸ®</div>
            <p class="optionText">Fun + chaos + laughs</p>
          </div>

          <div class="option" data-choice="Late Night Talk â˜ï¸" data-note="No distractions. Just you and me.">
            <div class="optionTitle">Late Night Talk â˜ï¸</div>
            <p class="optionText">Soft vibes â€¢ real talk</p>
          </div>

          <div class="option" data-choice="Food Date ğŸ”" data-note="We order food at the same time and eat together on call ğŸ˜‹">
            <div class="optionTitle">Food Date ğŸ”</div>
            <p class="optionText">Same time â€¢ same vibe</p>
          </div>
        </div>

        <div style="margin-top:14px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap;">
          <span class="pill" id="pickedPill">Chosen: tap an option âœ¨</span>
        </div>

        <div style="margin-top:12px; display:grid; gap:10px; grid-template-columns:1fr 1fr;">
          <div style="text-align:left;">
            <div style="font-size:12px; color:rgba(59,43,43,.65); margin-bottom:6px;">Day (optional)</div>
            <input id="day" type="date" style="width:100%; padding:12px; border-radius:16px; border:1px solid rgba(255,95,158,.22); background:rgba(255,255,255,.75);" />
          </div>

          <div style="text-align:left;">
            <div style="font-size:12px; color:rgba(59,43,43,.65); margin-bottom:6px;">Time (optional)</div>
            <input id="time" type="time" style="width:100%; padding:12px; border-radius:16px; border:1px solid rgba(255,95,158,.22); background:rgba(255,255,255,.75);" />
          </div>
        </div>

        <div style="margin-top:14px;">
          <button class="btn btnPrimary btnFull" id="continueBtn" disabled>
            Continue ğŸ’Œ
          </button>
          <div class="smallNote">If you donâ€™t choose time, it means â€œwhenever youâ€™re freeâ€ ğŸ˜„</div>
        </div>

        <img src="cat.gif" alt="cat" class="imgHero" />
      </section>
    </main>

    <script>
      const cards = document.querySelectorAll(".option");
      const pickedPill = document.getElementById("pickedPill");
      const continueBtn = document.getElementById("continueBtn");
      const day = document.getElementById("day");
      const time = document.getElementById("time");

      let choice = "";
      let note = "";

      // Min date: today
      const t = new Date();
      const yyyy = t.getFullYear();
      const mm = String(t.getMonth()+1).padStart(2,"0");
      const dd = String(t.getDate()).padStart(2,"0");
      day.min = `${yyyy}-${mm}-${dd}`;

      cards.forEach(c => {
        c.addEventListener("click", () => {
          cards.forEach(x => x.classList.remove("active"));
          c.classList.add("active");
          choice = c.dataset.choice;
          note = c.dataset.note;
          pickedPill.textContent = "Chosen: " + choice;
          continueBtn.disabled = false;
        });
      });

      continueBtn.addEventListener("click", () => {
        const whenDay = day.value ? day.value : "Any day";
        const whenTime = time.value ? time.value : "Any time";
        localStorage.setItem("online_choice", choice);
        localStorage.setItem("online_note", note);
        localStorage.setItem("online_when", `${whenDay} â€¢ ${whenTime}`);
        location.href = "food.html";
      });
    </script>
  </body>
</html>
